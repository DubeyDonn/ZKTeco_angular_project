<div *ngIf="isLoading" class="overlay">
  <mat-spinner></mat-spinner>
</div>

<div class="d-flex gap-2 align-items-center mb-3">
  <button
    mat-icon-button
    aria-label="Example icon button with a vertical three dot icon"
    (click)="goBack()"
  >
    <mat-icon>arrow_back</mat-icon>
  </button>
  <h1 class="fw-bold m-0">Daily Attendance Breakdown</h1>
</div>

<div class="mb-3 d-md-flex justify-content-between">
  <div class="d-md-flex gap-2">
    <app-date-range-picker
      class=""
      [range]="formDateRange"
      [onRangeChange]="onRangeChange"
    ></app-date-range-picker>
  </div>

  <div class="d-flex flex-column align-items-start">
    <div>
      <span class="me-2">Selected Date Range:</span>
      <span class="fw-bold">
        {{ formDateRange.value.start | date : "MM/dd/yyyy" }} -
        {{ formDateRange.value.end | date : "MM/dd/yyyy" }}
      </span>
    </div>
    <div>
      <span class="me-2">Total no. of Employees:</span>
      <span class="fw-bold">{{ employeeCount }}</span>
    </div>
  </div>
</div>

<app-table
  [dataSource]="tableDataSource"
  [columns]="columns"
  [sortFunction]="sortData"
></app-table>
